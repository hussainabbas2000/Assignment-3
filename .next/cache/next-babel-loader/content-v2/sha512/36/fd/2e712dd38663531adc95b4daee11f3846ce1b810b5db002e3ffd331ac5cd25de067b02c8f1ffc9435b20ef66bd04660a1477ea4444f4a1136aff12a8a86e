{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"C:/Users/Hussain/Desktop/f/app/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"C:/Users/Hussain/Desktop/f/app/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Hussain\\\\Desktop\\\\f\\\\app\\\\pages\\\\s\\\\[...categorySlug].js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React, { useCallback } from 'react';\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Container from \"@material-ui/core/Container\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport ResponsiveTiles from 'react-storefront/ResponsiveTiles';\nimport ProductItem from '../../components/product/ProductItem';\nimport ShowMore from 'react-storefront/plp/ShowMore';\nimport Head from 'next/head';\nimport BackToTop from 'react-storefront/BackToTop';\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { Hbox } from 'react-storefront/Box';\nimport Breadcrumbs from 'react-storefront/Breadcrumbs';\nimport LoadMask from 'react-storefront/LoadMask';\nimport useSearchResultsStore from 'react-storefront/plp/useSearchResultsStore';\nimport Filter from 'react-storefront/plp/Filter';\nimport SearchResultsProvider from 'react-storefront/plp/SearchResultsProvider';\nimport ProductOptionSelector from 'react-storefront/option/ProductOptionSelector';\nimport FilterButton from 'react-storefront/plp/FilterButton';\nimport SortButton from 'react-storefront/plp/SortButton';\nimport Fill from 'react-storefront/Fill';\nimport fetchFromAPI from 'react-storefront/props/fetchFromAPI';\nimport createLazyProps from 'react-storefront/props/createLazyProps';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    sideBar: {\n      margin: theme.spacing(0, 4, 0, 0),\n      width: 275\n    },\n    sortButton: _defineProperty({}, theme.breakpoints.down('xs'), {\n      flex: 1\n    }),\n    total: {\n      marginTop: theme.spacing(1)\n    }\n  };\n});\n\nvar Subcategory = function Subcategory(lazyProps) {\n  _s();\n\n  var _useSearchResultsStor = useSearchResultsStore(lazyProps),\n      _useSearchResultsStor2 = _slicedToArray(_useSearchResultsStor, 2),\n      store = _useSearchResultsStor2[0],\n      updateStore = _useSearchResultsStor2[1];\n\n  var classes = useStyles();\n  var theme = useTheme();\n  var pageData = store.pageData,\n      loading = store.loading;\n\n  if (pageData.isLanding) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n        items: !loading && pageData.breadcrumbs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: !loading ? /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h4\",\n          gutterBottom: true,\n          align: \"center\",\n          className: classes.landingTitleSpacing,\n          children: pageData.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, _this) : /*#__PURE__*/_jsxDEV(Skeleton, {\n          height: 32,\n          style: {\n            marginBottom: theme.spacing(1)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, _this), !loading && /*#__PURE__*/_jsxDEV(LandingCmsSlots, {\n        cmsBlocks: pageData.cmsBlocks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 22\n      }, _this)]\n    }, void 0, true);\n  } // Here is an example of how you can customize the URL scheme for filtering and sorting - /s/1?color=red,blue=sort=pop\n  // Note that if you change this, you also need to change pages/api/[...categorySlug].js to correctly handle the query parameters\n  // you send it.\n\n\n  var queryForState = useCallback(function (state) {\n    var filters = state.filters,\n        page = state.page,\n        sort = state.sort;\n    var query = {};\n\n    var _iterator = _createForOfIteratorHelper(filters),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var filter = _step.value;\n\n        var _filter$split = filter.split(':'),\n            _filter$split2 = _slicedToArray(_filter$split, 2),\n            name = _filter$split2[0],\n            value = _filter$split2[1];\n\n        console.log(name, value);\n\n        if (query[name]) {\n          query[name] = \"\".concat(query[name], \",\").concat(value);\n        } else {\n          query[name] = value;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    if (query.more) {\n      delete query.more;\n    }\n\n    if (page > 0) {\n      query.page = page;\n    } else {\n      delete query.page;\n    }\n\n    if (sort) {\n      query.sort = sort;\n    } else {\n      delete query.sort;\n    }\n\n    console.log('query', query);\n    return query;\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n      items: !loading && pageData.breadcrumbs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(SearchResultsProvider, {\n      store: store,\n      updateStore: updateStore,\n      queryForState: queryForState,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"lg\",\n        style: {\n          paddingTop: theme.spacing(2)\n        },\n        children: [/*#__PURE__*/_jsxDEV(Head, {\n          children: loading ? null : /*#__PURE__*/_jsxDEV(\"title\", {\n            children: pageData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 35\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(BackToTop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Hbox, {\n          align: \"flex-start\",\n          children: [/*#__PURE__*/_jsxDEV(Hidden, {\n            implementation: \"css\",\n            xsDown: true,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.sideBar,\n              children: /*#__PURE__*/_jsxDEV(Hidden, {\n                xsDown: true,\n                children: /*#__PURE__*/_jsxDEV(Filter, {\n                  classes: {\n                    root: classes.sideBar\n                  },\n                  expandAll: true,\n                  submitOnChange: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            style: {\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(LoadMask, {\n              show: store.reloading,\n              transparent: true,\n              align: \"top\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: !loading ? /*#__PURE__*/_jsxDEV(Typography, {\n                component: \"h1\",\n                variant: \"h6\",\n                gutterBottom: true,\n                children: pageData.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 19\n              }, _this) : /*#__PURE__*/_jsxDEV(Skeleton, {\n                height: 32,\n                style: {\n                  marginBottom: theme.spacing(1)\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              style: {\n                paddingRight: theme.spacing(1)\n              },\n              children: /*#__PURE__*/_jsxDEV(Hidden, {\n                implementation: \"css\",\n                smUp: true,\n                children: /*#__PURE__*/_jsxDEV(FilterButton, {\n                  style: {\n                    width: '100%'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              style: {\n                display: 'flex',\n                justifyContent: 'flex-end'\n              },\n              children: /*#__PURE__*/_jsxDEV(SortButton, {\n                className: classes.sortButton\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              style: {\n                display: 'flex',\n                justifyContent: 'flex-end'\n              },\n              children: loading ? /*#__PURE__*/_jsxDEV(Skeleton, {\n                width: 90,\n                height: 14,\n                style: {\n                  marginBottom: 4\n                },\n                className: classes.total\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, _this) : /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                className: classes.total,\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [pageData.total, \" total \", pageData.total === 1 ? 'item' : 'items']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: !loading ? /*#__PURE__*/_jsxDEV(ResponsiveTiles, {\n                autoScrollToNewTiles: true,\n                children: pageData.products.map(function (product, i) {\n                  return /*#__PURE__*/_jsxDEV(ProductItem, {\n                    product: product,\n                    index: i\n                  }, product.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 23\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, _this) : /*#__PURE__*/_jsxDEV(ResponsiveTiles, {\n                children: function () {\n                  var tiles = [];\n\n                  for (var i = 0; i < 10; i++) {\n                    tiles.push( /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginTop: theme.spacing(2),\n                        marginBottom: theme.spacing(2)\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Fill, {\n                        height: \"100%\",\n                        style: {\n                          marginBottom: theme.spacing(1)\n                        },\n                        children: /*#__PURE__*/_jsxDEV(Skeleton, {\n                          variant: \"rect\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 180,\n                          columnNumber: 31\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 179,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                        height: 26\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 182,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/_jsxDEV(ProductOptionSelector, {\n                        skeleton: 4,\n                        variant: \"swatch\",\n                        size: \"small\",\n                        optionProps: {\n                          size: 'small',\n                          showLabel: false\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                        height: 18\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 192,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                        height: 24,\n                        style: {\n                          marginTop: '5px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 193,\n                        columnNumber: 29\n                      }, _this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 27\n                    }, _this));\n                  }\n\n                  return tiles;\n                }()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: !loading && /*#__PURE__*/_jsxDEV(ShowMore, {\n                variant: \"button\",\n                style: {\n                  paddingBottom: 200\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 30\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(Subcategory, \"t5AmMJrwG8q8FctEEkRuEncI4WE=\", false, function () {\n  return [useSearchResultsStore, useStyles, useTheme];\n});\n\n_c = Subcategory;\nSubcategory.getInitialProps = createLazyProps(function (opts) {\n  var res = opts.res;\n  if (res) res.setHeader('Cache-Control', 'max-age=99999');\n  return fetchFromAPI(opts);\n});\nexport default Subcategory;\n\nvar _c;\n\n$RefreshReg$(_c, \"Subcategory\");","map":{"version":3,"sources":["C:/Users/Hussain/Desktop/f/app/pages/s/[...categorySlug].js"],"names":["React","useCallback","makeStyles","useTheme","ResponsiveTiles","ProductItem","ShowMore","Head","BackToTop","Hbox","Breadcrumbs","LoadMask","useSearchResultsStore","Filter","SearchResultsProvider","ProductOptionSelector","FilterButton","SortButton","Fill","fetchFromAPI","createLazyProps","useStyles","theme","sideBar","margin","spacing","width","sortButton","breakpoints","down","flex","total","marginTop","Subcategory","lazyProps","store","updateStore","classes","pageData","loading","isLanding","breadcrumbs","landingTitleSpacing","name","marginBottom","cmsBlocks","queryForState","state","filters","page","sort","query","filter","split","value","console","log","more","paddingTop","title","root","position","reloading","paddingRight","display","justifyContent","products","map","product","i","id","tiles","push","size","showLabel","paddingBottom","getInitialProps","opts","res","setHeader"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react'\nimport { Typography, Grid, Container, Hidden } from '@material-ui/core'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport ResponsiveTiles from 'react-storefront/ResponsiveTiles'\nimport ProductItem from '../../components/product/ProductItem'\nimport ShowMore from 'react-storefront/plp/ShowMore'\nimport Head from 'next/head'\nimport BackToTop from 'react-storefront/BackToTop'\nimport { Skeleton } from '@material-ui/lab'\nimport { Hbox } from 'react-storefront/Box'\nimport Breadcrumbs from 'react-storefront/Breadcrumbs'\nimport LoadMask from 'react-storefront/LoadMask'\nimport useSearchResultsStore from 'react-storefront/plp/useSearchResultsStore'\nimport Filter from 'react-storefront/plp/Filter'\nimport SearchResultsProvider from 'react-storefront/plp/SearchResultsProvider'\nimport ProductOptionSelector from 'react-storefront/option/ProductOptionSelector'\nimport FilterButton from 'react-storefront/plp/FilterButton'\nimport SortButton from 'react-storefront/plp/SortButton'\nimport Fill from 'react-storefront/Fill'\nimport fetchFromAPI from 'react-storefront/props/fetchFromAPI'\nimport createLazyProps from 'react-storefront/props/createLazyProps'\n\nconst useStyles = makeStyles(theme => ({\n  sideBar: {\n    margin: theme.spacing(0, 4, 0, 0),\n    width: 275,\n  },\n  sortButton: {\n    [theme.breakpoints.down('xs')]: {\n      flex: 1,\n    },\n  },\n  total: {\n    marginTop: theme.spacing(1),\n  },\n}))\n\nconst Subcategory = lazyProps => {\n  const [store, updateStore] = useSearchResultsStore(lazyProps)\n  const classes = useStyles()\n  const theme = useTheme()\n  let { pageData, loading } = store\n\n  if (pageData.isLanding) {\n    return (\n      <>\n        <Breadcrumbs items={!loading && pageData.breadcrumbs} />\n        <Grid item xs={12}>\n          {!loading ? (\n            <Typography\n              component=\"h1\"\n              variant=\"h4\"\n              gutterBottom\n              align=\"center\"\n              className={classes.landingTitleSpacing}\n            >\n              {pageData.name}\n            </Typography>\n          ) : (\n            <Skeleton height={32} style={{ marginBottom: theme.spacing(1) }} />\n          )}\n        </Grid>\n        {!loading && <LandingCmsSlots cmsBlocks={pageData.cmsBlocks} />}\n      </>\n    )\n  }\n\n  // Here is an example of how you can customize the URL scheme for filtering and sorting - /s/1?color=red,blue=sort=pop\n  // Note that if you change this, you also need to change pages/api/[...categorySlug].js to correctly handle the query parameters\n  // you send it.\n  const queryForState = useCallback(state => {\n    const { filters, page, sort } = state\n    const query = {}\n\n    for (let filter of filters) {\n      const [name, value] = filter.split(':')\n\n      console.log(name, value)\n\n      if (query[name]) {\n        query[name] = `${query[name]},${value}`\n      } else {\n        query[name] = value\n      }\n    }\n\n    if (query.more) {\n      delete query.more\n    }\n\n    if (page > 0) {\n      query.page = page\n    } else {\n      delete query.page\n    }\n\n    if (sort) {\n      query.sort = sort\n    } else {\n      delete query.sort\n    }\n\n    console.log('query', query)\n\n    return query\n  }, [])\n\n  return (\n    <>\n      <Breadcrumbs items={!loading && pageData.breadcrumbs} />\n      <SearchResultsProvider store={store} updateStore={updateStore} queryForState={queryForState}>\n        <Container maxWidth=\"lg\" style={{ paddingTop: theme.spacing(2) }}>\n          <Head>{loading ? null : <title>{pageData.title}</title>}</Head>\n          <BackToTop />\n          <Hbox align=\"flex-start\">\n            <Hidden implementation=\"css\" xsDown>\n              <div className={classes.sideBar}>\n                <Hidden xsDown>\n                  {/* Display the filters for desktop screen sizes */}\n                  <Filter classes={{ root: classes.sideBar }} expandAll submitOnChange />\n                </Hidden>\n              </div>\n            </Hidden>\n            <Grid container style={{ position: 'relative' }}>\n              <LoadMask show={store.reloading} transparent align=\"top\" />\n              <Grid item xs={12}>\n                {!loading ? (\n                  <Typography component=\"h1\" variant=\"h6\" gutterBottom>\n                    {pageData.name}\n                  </Typography>\n                ) : (\n                  <Skeleton height={32} style={{ marginBottom: theme.spacing(1) }} />\n                )}\n              </Grid>\n              <Grid item xs={6} style={{ paddingRight: theme.spacing(1) }}>\n                <Hidden implementation=\"css\" smUp>\n                  {/* Display a button that opens the filter drawer on mobile screen sizes */}\n                  <FilterButton style={{ width: '100%' }} />\n                </Hidden>\n              </Grid>\n              <Grid item xs={6} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                {/* The sort button is automatically responsive.  It will show as a dropdown on desktop, and open a drawer on mobile */}\n                <SortButton className={classes.sortButton} />\n              </Grid>\n              <Grid item xs={6}></Grid>\n              <Grid item xs={12} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                {loading ? (\n                  <Skeleton\n                    width={90}\n                    height={14}\n                    style={{ marginBottom: 4 }}\n                    className={classes.total}\n                  />\n                ) : (\n                  <Typography variant=\"caption\" className={classes.total}>\n                    <span>\n                      {pageData.total} total {pageData.total === 1 ? 'item' : 'items'}\n                    </span>\n                  </Typography>\n                )}\n              </Grid>\n              <Grid item xs={12}>\n                {!loading ? (\n                  <ResponsiveTiles autoScrollToNewTiles>\n                    {pageData.products.map((product, i) => (\n                      <ProductItem key={product.id} product={product} index={i} />\n                    ))}\n                  </ResponsiveTiles>\n                ) : (\n                  <ResponsiveTiles>\n                    {(() => {\n                      const tiles = []\n                      for (let i = 0; i < 10; i++) {\n                        tiles.push(\n                          <div\n                            key={i}\n                            style={{ marginTop: theme.spacing(2), marginBottom: theme.spacing(2) }}\n                          >\n                            <Fill height=\"100%\" style={{ marginBottom: theme.spacing(1) }}>\n                              <Skeleton variant=\"rect\" />\n                            </Fill>\n                            <Skeleton height={26} />\n                            <ProductOptionSelector\n                              skeleton={4}\n                              variant=\"swatch\"\n                              size=\"small\"\n                              optionProps={{\n                                size: 'small',\n                                showLabel: false,\n                              }}\n                            />\n                            <Skeleton height={18} />\n                            <Skeleton height={24} style={{ marginTop: '5px' }} />\n                          </div>\n                        )\n                      }\n                      return tiles\n                    })()}\n                  </ResponsiveTiles>\n                )}\n              </Grid>\n              <Grid item xs={12}>\n                {!loading && <ShowMore variant=\"button\" style={{ paddingBottom: 200 }} />}\n              </Grid>\n            </Grid>\n          </Hbox>\n        </Container>\n      </SearchResultsProvider>\n    </>\n  )\n}\n\nSubcategory.getInitialProps = createLazyProps(opts => {\n  const { res } = opts\n  if (res) res.setHeader('Cache-Control', 'max-age=99999')\n  return fetchFromAPI(opts)\n})\n\nexport default Subcategory\n"]},"metadata":{},"sourceType":"module"}