{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/Hussain/Desktop/f/app/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Hussain/Desktop/f/app/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/Hussain/Desktop/f/app/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"C:/Users/Hussain/Desktop/f/app/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Hussain\\\\Desktop\\\\f\\\\app\\\\pages\\\\p\\\\[productId].js\",\n    _s = $RefreshSig$(),\n    _this = this,\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useState, useEffect, useRef } from 'react';\nimport clsx from 'clsx';\nimport qs from 'qs';\nimport useLazyState from 'react-storefront/hooks/useLazyState';\nimport Breadcrumbs from 'react-storefront/Breadcrumbs';\nimport CmsSlot from 'react-storefront/CmsSlot';\nimport MediaCarousel from 'react-storefront/carousel/MediaCarousel';\nimport PWAContext from 'react-storefront/PWAContext';\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport Button from \"@material-ui/core/Button\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Row from 'react-storefront/Row';\nimport { Hbox } from 'react-storefront/Box';\nimport Label from 'react-storefront/Label';\nimport Rating from 'react-storefront/Rating';\nimport get from 'lodash/get';\nimport fetch from 'react-storefront/fetch';\nimport { fetchLatest, StaleResponseError } from 'react-storefront/utils/fetchLatest';\nimport SessionContext from 'react-storefront/session/SessionContext';\nimport AddToCartConfirmation from '../../components/product/AddToCartConfirmation';\nimport SuggestedProducts from '../../components/product/SuggestedProducts';\nimport Lazy from 'react-storefront/Lazy';\nimport TabPanel from 'react-storefront/TabPanel';\nimport QuantitySelector from 'react-storefront/QuantitySelector';\nimport ProductOptionSelector from 'react-storefront/option/ProductOptionSelector';\nimport fetchFromAPI from 'react-storefront/props/fetchFromAPI';\nimport createLazyProps from 'react-storefront/props/createLazyProps';\nvar fetchVariant = fetchLatest(fetch);\n\nvar useDidMountEffect = function useDidMountEffect(func, deps) {\n  _s();\n\n  var didMount = useRef(false);\n  useEffect(function () {\n    if (didMount.current) {\n      func();\n    } else {\n      didMount.current = true;\n    }\n  }, deps);\n};\n\n_s(useDidMountEffect, \"pOysHxGDAe5NFamaAuKx7OGo+cM=\");\n\nvar styles = function styles(theme) {\n  return {\n    carousel: _defineProperty({}, theme.breakpoints.down('xs'), {\n      margin: theme.spacing(0, -2),\n      width: '100vw'\n    }),\n    lightboxCarousel: _defineProperty({}, theme.breakpoints.down('xs'), {\n      margin: 0,\n      width: '100%'\n    }),\n    confirmation: {\n      padding: '2px 0'\n    },\n    dockedSnack: _defineProperty({}, theme.breakpoints.down('xs'), {\n      left: '0',\n      bottom: '0',\n      right: '0'\n    }),\n    docked: _defineProperty({}, theme.breakpoints.down('xs'), {\n      fontSize: theme.typography.subtitle1.fontSize,\n      padding: \"\".concat(theme.spacing(2), \"px\"),\n      position: 'fixed',\n      left: 0,\n      bottom: 0,\n      width: '100%',\n      zIndex: 10,\n      borderRadius: '0'\n    }),\n    noShadow: _defineProperty({}, theme.breakpoints.down('xs'), {\n      boxShadow: 'none'\n    })\n  };\n};\n\nvar useStyles = makeStyles(styles);\nvar Product = /*#__PURE__*/React.memo(_c = _s2(function (lazyProps) {\n  _s2();\n\n  var theme = useTheme();\n\n  var _useState = useState(false),\n      confirmationOpen = _useState[0],\n      setConfirmationOpen = _useState[1];\n\n  var _useState2 = useState(false),\n      addToCartInProgress = _useState2[0],\n      setAddToCartInProgress = _useState2[1];\n\n  var _useLazyState = useLazyState(lazyProps, {\n    pageData: {\n      quantity: 1,\n      carousel: {\n        index: 0\n      }\n    }\n  }),\n      _useLazyState2 = _slicedToArray(_useLazyState, 2),\n      state = _useLazyState2[0],\n      updateState = _useLazyState2[1];\n\n  var classes = useStyles();\n  var product = get(state, 'pageData.product') || {};\n  var color = get(state, 'pageData.color') || {};\n  var size = get(state, 'pageData.size') || {};\n  var quantity = get(state, 'pageData.quantity');\n\n  var _useContext = useContext(SessionContext),\n      actions = _useContext.actions;\n\n  var loading = state.loading; // This is provided when <ForwardThumbnail> is wrapped around product links\n\n  var _useContext2 = useContext(PWAContext),\n      thumbnail = _useContext2.thumbnail; // Adds an item to the cart\n\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault(); // prevent the page location from changing\n\n              setAddToCartInProgress(true); // disable the add to cart button until the request is finished\n\n              _context.prev = 2;\n              _context.next = 5;\n              return actions.addToCart({\n                product: product,\n                quantity: quantity,\n                color: color.id,\n                size: size.id\n              });\n\n            case 5:\n              // open the confirmation dialog\n              setConfirmationOpen(true);\n\n            case 6:\n              _context.prev = 6;\n              // re-enable the add to cart button\n              setAddToCartInProgress(false);\n              return _context.finish(6);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2,, 6, 9]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var header = /*#__PURE__*/_jsxDEV(Row, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      component: \"h1\",\n      gutterBottom: true,\n      children: product ? product.name : /*#__PURE__*/_jsxDEV(Skeleton, {\n        style: {\n          height: '1em'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 35\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Hbox, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        style: {\n          marginRight: theme.spacing(2)\n        },\n        children: product.priceText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Rating, {\n        value: product.rating,\n        reviewCount: 10\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, _this); // Fetch variant data upon changing color or size options\n\n\n  useDidMountEffect(function () {\n    var query = qs.stringify({\n      color: color.id,\n      size: size.id\n    }, {\n      addQueryPrefix: true\n    });\n    fetchVariant(\"/api/p/\".concat(product.id).concat(query)).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      return updateState(_objectSpread(_objectSpread({}, state), {}, {\n        pageData: _objectSpread(_objectSpread({}, state.pageData), data.pageData)\n      }));\n    })[\"catch\"](function (e) {\n      if (!StaleResponseError.is(e)) {\n        throw e;\n      }\n    });\n  }, [color.id, size.id]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n      items: !loading && state.pageData.breadcrumbs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      style: {\n        paddingTop: theme.spacing(2)\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        method: \"post\",\n        \"action-xhr\": \"/api/cart\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 4,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            md: 5,\n            children: [/*#__PURE__*/_jsxDEV(Hidden, {\n              implementation: \"css\",\n              smUp: true,\n              children: header\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(MediaCarousel, {\n              className: classes.carousel,\n              lightboxClassName: classes.lightboxCarousel,\n              thumbnail: thumbnail.current,\n              height: \"100%\",\n              media: color.media || product && product.media\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            md: 7,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 4,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: [/*#__PURE__*/_jsxDEV(Hidden, {\n                  implementation: \"css\",\n                  xsDown: true,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      paddingBottom: theme.spacing(1)\n                    },\n                    children: header\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, _this), product ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Hbox, {\n                    style: {\n                      marginBottom: 10\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      children: \"COLOR: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(Typography, {\n                      children: color.text\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 25\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(ProductOptionSelector, {\n                    options: product.colors,\n                    value: color,\n                    onChange: function onChange(value) {\n                      return updateState(_objectSpread(_objectSpread({}, state), {}, {\n                        pageData: _objectSpread(_objectSpread({}, state.pageData), {}, {\n                          color: value\n                        })\n                      }));\n                    },\n                    strikeThroughDisabled: true,\n                    optionProps: {\n                      showLabel: false\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                    style: {\n                      height: 14,\n                      marginBottom: theme.spacing(2)\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(Hbox, {\n                    children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                      style: {\n                        height: 48,\n                        width: 48,\n                        marginRight: 10\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                      style: {\n                        height: 48,\n                        width: 48,\n                        marginRight: 10\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                      style: {\n                        height: 48,\n                        width: 48,\n                        marginRight: 10\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 25\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: product ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Hbox, {\n                    style: {\n                      marginBottom: 10\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      children: \"SIZE: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(Typography, {\n                      children: size.text\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 25\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(ProductOptionSelector, {\n                    options: product.sizes,\n                    value: size,\n                    strikeThroughDisabled: true,\n                    onChange: function onChange(value) {\n                      return updateState(_objectSpread(_objectSpread({}, state), {}, {\n                        pageData: _objectSpread(_objectSpread({}, state.pageData), {}, {\n                          size: value\n                        })\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                    style: {\n                      height: 14,\n                      marginBottom: theme.spacing(2)\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(Hbox, {\n                    children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                      style: {\n                        height: 48,\n                        width: 48,\n                        marginRight: 10\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 226,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                      style: {\n                        height: 48,\n                        width: 48,\n                        marginRight: 10\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                      style: {\n                        height: 48,\n                        width: 48,\n                        marginRight: 10\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 25\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(Hbox, {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    children: \"QTY:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(QuantitySelector, {\n                    value: quantity,\n                    onChange: function onChange(value) {\n                      return updateState(_objectSpread(_objectSpread({}, state), {}, {\n                        pageData: _objectSpread(_objectSpread({}, state.pageData), {}, {\n                          quantity: value\n                        })\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 21\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  variant: \"contained\",\n                  color: \"primary\",\n                  size: \"large\",\n                  \"data-th\": \"add-to-cart\",\n                  className: clsx(classes.docked, classes.noShadow),\n                  disabled: addToCartInProgress,\n                  children: \"Add to Cart\"\n                }, \"button\", false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(AddToCartConfirmation, {\n                  open: confirmationOpen,\n                  setOpen: setConfirmationOpen,\n                  product: product,\n                  color: color,\n                  size: size,\n                  quantity: quantity,\n                  price: product.priceText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(TabPanel, {\n            children: [/*#__PURE__*/_jsxDEV(CmsSlot, {\n              label: \"Description\",\n              children: product.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(CmsSlot, {\n              label: \"Specs\",\n              children: product.specs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Lazy, {\n            style: {\n              minHeight: 285\n            },\n            children: /*#__PURE__*/_jsxDEV(SuggestedProducts, {\n              product: product\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n}, \"h7EUzBi0xxdiuT/1/YEqYNJ5AYM=\", false, function () {\n  return [useTheme, useLazyState, useStyles, useDidMountEffect];\n}));\n_c2 = Product;\nProduct.getInitialProps = createLazyProps(fetchFromAPI);\nexport default Product;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Product$React.memo\");\n$RefreshReg$(_c2, \"Product\");","map":{"version":3,"sources":["C:/Users/Hussain/Desktop/f/app/pages/p/[productId].js"],"names":["React","useContext","useState","useEffect","useRef","clsx","qs","useLazyState","Breadcrumbs","CmsSlot","MediaCarousel","PWAContext","makeStyles","useTheme","Row","Hbox","Label","Rating","get","fetch","fetchLatest","StaleResponseError","SessionContext","AddToCartConfirmation","SuggestedProducts","Lazy","TabPanel","QuantitySelector","ProductOptionSelector","fetchFromAPI","createLazyProps","fetchVariant","useDidMountEffect","func","deps","didMount","current","styles","theme","carousel","breakpoints","down","margin","spacing","width","lightboxCarousel","confirmation","padding","dockedSnack","left","bottom","right","docked","fontSize","typography","subtitle1","position","zIndex","borderRadius","noShadow","boxShadow","useStyles","Product","memo","lazyProps","confirmationOpen","setConfirmationOpen","addToCartInProgress","setAddToCartInProgress","pageData","quantity","index","state","updateState","classes","product","color","size","actions","loading","thumbnail","handleSubmit","event","preventDefault","addToCart","id","header","name","height","marginRight","priceText","rating","query","stringify","addQueryPrefix","then","res","json","data","e","is","breadcrumbs","paddingTop","media","paddingBottom","marginBottom","text","colors","value","showLabel","sizes","description","specs","minHeight","getInitialProps"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect, useRef } from 'react'\nimport clsx from 'clsx'\nimport qs from 'qs'\nimport useLazyState from 'react-storefront/hooks/useLazyState'\nimport Breadcrumbs from 'react-storefront/Breadcrumbs'\nimport CmsSlot from 'react-storefront/CmsSlot'\nimport MediaCarousel from 'react-storefront/carousel/MediaCarousel'\nimport PWAContext from 'react-storefront/PWAContext'\nimport { Container, Grid, Typography, Hidden, Button } from '@material-ui/core'\nimport { Skeleton } from '@material-ui/lab'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport Row from 'react-storefront/Row'\nimport { Hbox } from 'react-storefront/Box'\nimport Label from 'react-storefront/Label'\nimport Rating from 'react-storefront/Rating'\nimport get from 'lodash/get'\nimport fetch from 'react-storefront/fetch'\nimport { fetchLatest, StaleResponseError } from 'react-storefront/utils/fetchLatest'\nimport SessionContext from 'react-storefront/session/SessionContext'\nimport AddToCartConfirmation from '../../components/product/AddToCartConfirmation'\nimport SuggestedProducts from '../../components/product/SuggestedProducts'\nimport Lazy from 'react-storefront/Lazy'\nimport TabPanel from 'react-storefront/TabPanel'\nimport QuantitySelector from 'react-storefront/QuantitySelector'\nimport ProductOptionSelector from 'react-storefront/option/ProductOptionSelector'\nimport fetchFromAPI from 'react-storefront/props/fetchFromAPI'\nimport createLazyProps from 'react-storefront/props/createLazyProps'\n\nconst fetchVariant = fetchLatest(fetch)\n\nconst useDidMountEffect = (func, deps) => {\n  const didMount = useRef(false)\n  useEffect(() => {\n    if (didMount.current) {\n      func()\n    } else {\n      didMount.current = true\n    }\n  }, deps)\n}\n\nconst styles = theme => ({\n  carousel: {\n    [theme.breakpoints.down('xs')]: {\n      margin: theme.spacing(0, -2),\n      width: '100vw',\n    },\n  },\n  lightboxCarousel: {\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      width: '100%',\n    },\n  },\n  confirmation: {\n    padding: '2px 0',\n  },\n  dockedSnack: {\n    [theme.breakpoints.down('xs')]: {\n      left: '0',\n      bottom: '0',\n      right: '0',\n    },\n  },\n  docked: {\n    [theme.breakpoints.down('xs')]: {\n      fontSize: theme.typography.subtitle1.fontSize,\n      padding: `${theme.spacing(2)}px`,\n      position: 'fixed',\n      left: 0,\n      bottom: 0,\n      width: '100%',\n      zIndex: 10,\n      borderRadius: '0',\n    },\n  },\n  noShadow: {\n    [theme.breakpoints.down('xs')]: {\n      boxShadow: 'none',\n    },\n  },\n})\n\nconst useStyles = makeStyles(styles)\n\nconst Product = React.memo(lazyProps => {\n  const theme = useTheme()\n  const [confirmationOpen, setConfirmationOpen] = useState(false)\n  const [addToCartInProgress, setAddToCartInProgress] = useState(false)\n  const [state, updateState] = useLazyState(lazyProps, {\n    pageData: { quantity: 1, carousel: { index: 0 } },\n  })\n  const classes = useStyles()\n  const product = get(state, 'pageData.product') || {}\n  const color = get(state, 'pageData.color') || {}\n  const size = get(state, 'pageData.size') || {}\n  const quantity = get(state, 'pageData.quantity')\n  const { actions } = useContext(SessionContext)\n  const { loading } = state\n\n  // This is provided when <ForwardThumbnail> is wrapped around product links\n  const { thumbnail } = useContext(PWAContext)\n\n  // Adds an item to the cart\n  const handleSubmit = async event => {\n    event.preventDefault() // prevent the page location from changing\n    setAddToCartInProgress(true) // disable the add to cart button until the request is finished\n\n    try {\n      // send the data to the server\n      await actions.addToCart({\n        product,\n        quantity,\n        color: color.id,\n        size: size.id,\n      })\n\n      // open the confirmation dialog\n      setConfirmationOpen(true)\n    } finally {\n      // re-enable the add to cart button\n      setAddToCartInProgress(false)\n    }\n  }\n\n  const header = (\n    <Row>\n      <Typography variant=\"h6\" component=\"h1\" gutterBottom>\n        {product ? product.name : <Skeleton style={{ height: '1em' }} />}\n      </Typography>\n      <Hbox>\n        <Typography style={{ marginRight: theme.spacing(2) }}>{product.priceText}</Typography>\n        <Rating value={product.rating} reviewCount={10} />\n      </Hbox>\n    </Row>\n  )\n\n  // Fetch variant data upon changing color or size options\n  useDidMountEffect(() => {\n    const query = qs.stringify({ color: color.id, size: size.id }, { addQueryPrefix: true })\n    fetchVariant(`/api/p/${product.id}${query}`)\n      .then(res => res.json())\n      .then(data => {\n        return updateState({ ...state, pageData: { ...state.pageData, ...data.pageData } })\n      })\n      .catch(e => {\n        if (!StaleResponseError.is(e)) {\n          throw e\n        }\n      })\n  }, [color.id, size.id])\n\n  return (\n    <>\n      <Breadcrumbs items={!loading && state.pageData.breadcrumbs} />\n      <Container maxWidth=\"lg\" style={{ paddingTop: theme.spacing(2) }}>\n        <form onSubmit={handleSubmit} method=\"post\" action-xhr=\"/api/cart\">\n          <Grid container spacing={4}>\n            <Grid item xs={12} sm={6} md={5}>\n              <Hidden implementation=\"css\" smUp>\n                {header}\n              </Hidden>\n              <MediaCarousel\n                className={classes.carousel}\n                lightboxClassName={classes.lightboxCarousel}\n                thumbnail={thumbnail.current}\n                height=\"100%\"\n                media={color.media || (product && product.media)}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6} md={7}>\n              <Grid container spacing={4}>\n                <Grid item xs={12}>\n                  <Hidden implementation=\"css\" xsDown>\n                    <div style={{ paddingBottom: theme.spacing(1) }}>{header}</div>\n                  </Hidden>\n                  {product ? (\n                    <>\n                      <Hbox style={{ marginBottom: 10 }}>\n                        <Label>COLOR: </Label>\n                        <Typography>{color.text}</Typography>\n                      </Hbox>\n                      <ProductOptionSelector\n                        options={product.colors}\n                        value={color}\n                        onChange={value =>\n                          updateState({ ...state, pageData: { ...state.pageData, color: value } })\n                        }\n                        strikeThroughDisabled\n                        optionProps={{\n                          showLabel: false,\n                        }}\n                      />\n                    </>\n                  ) : (\n                    <div>\n                      <Skeleton style={{ height: 14, marginBottom: theme.spacing(2) }}></Skeleton>\n                      <Hbox>\n                        <Skeleton style={{ height: 48, width: 48, marginRight: 10 }}></Skeleton>\n                        <Skeleton style={{ height: 48, width: 48, marginRight: 10 }}></Skeleton>\n                        <Skeleton style={{ height: 48, width: 48, marginRight: 10 }}></Skeleton>\n                      </Hbox>\n                    </div>\n                  )}\n                </Grid>\n                <Grid item xs={12}>\n                  {product ? (\n                    <>\n                      <Hbox style={{ marginBottom: 10 }}>\n                        <Label>SIZE: </Label>\n                        <Typography>{size.text}</Typography>\n                      </Hbox>\n                      <ProductOptionSelector\n                        options={product.sizes}\n                        value={size}\n                        strikeThroughDisabled\n                        onChange={value =>\n                          updateState({ ...state, pageData: { ...state.pageData, size: value } })\n                        }\n                      />\n                    </>\n                  ) : (\n                    <div>\n                      <Skeleton style={{ height: 14, marginBottom: theme.spacing(2) }}></Skeleton>\n                      <Hbox>\n                        <Skeleton style={{ height: 48, width: 48, marginRight: 10 }}></Skeleton>\n                        <Skeleton style={{ height: 48, width: 48, marginRight: 10 }}></Skeleton>\n                        <Skeleton style={{ height: 48, width: 48, marginRight: 10 }}></Skeleton>\n                      </Hbox>\n                    </div>\n                  )}\n                </Grid>\n                <Grid item xs={12}>\n                  <Hbox>\n                    <Label>QTY:</Label>\n                    <QuantitySelector\n                      value={quantity}\n                      onChange={value =>\n                        updateState({ ...state, pageData: { ...state.pageData, quantity: value } })\n                      }\n                    />\n                  </Hbox>\n                </Grid>\n                <Grid item xs={12}>\n                  <Button\n                    key=\"button\"\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"large\"\n                    data-th=\"add-to-cart\"\n                    className={clsx(classes.docked, classes.noShadow)}\n                    disabled={addToCartInProgress}\n                  >\n                    Add to Cart\n                  </Button>\n                  <AddToCartConfirmation\n                    open={confirmationOpen}\n                    setOpen={setConfirmationOpen}\n                    product={product}\n                    color={color}\n                    size={size}\n                    quantity={quantity}\n                    price={product.priceText}\n                  />\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <TabPanel>\n              <CmsSlot label=\"Description\">{product.description}</CmsSlot>\n              <CmsSlot label=\"Specs\">{product.specs}</CmsSlot>\n            </TabPanel>\n          </Grid>\n          <Grid item xs={12}>\n            <Lazy style={{ minHeight: 285 }}>\n              <SuggestedProducts product={product} />\n            </Lazy>\n          </Grid>\n        </form>\n      </Container>\n    </>\n  )\n})\n\nProduct.getInitialProps = createLazyProps(fetchFromAPI)\n\nexport default Product\n"]},"metadata":{},"sourceType":"module"}