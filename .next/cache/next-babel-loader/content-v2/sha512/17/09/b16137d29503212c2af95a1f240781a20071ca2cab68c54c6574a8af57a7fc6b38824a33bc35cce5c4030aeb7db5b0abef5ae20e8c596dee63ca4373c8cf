{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Hussain\\\\Desktop\\\\f\\\\app\\\\pages\\\\s\\\\[...categorySlug].js\";\nimport React, { useCallback } from 'react';\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Container from \"@material-ui/core/Container\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport ResponsiveTiles from 'react-storefront/ResponsiveTiles';\nimport ProductItem from '../../components/product/ProductItem';\nimport ShowMore from 'react-storefront/plp/ShowMore';\nimport Head from 'next/head';\nimport BackToTop from 'react-storefront/BackToTop';\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { Hbox } from 'react-storefront/Box';\nimport Breadcrumbs from 'react-storefront/Breadcrumbs';\nimport LoadMask from 'react-storefront/LoadMask';\nimport useSearchResultsStore from 'react-storefront/plp/useSearchResultsStore';\nimport Filter from 'react-storefront/plp/Filter';\nimport SearchResultsProvider from 'react-storefront/plp/SearchResultsProvider';\nimport ProductOptionSelector from 'react-storefront/option/ProductOptionSelector';\nimport FilterButton from 'react-storefront/plp/FilterButton';\nimport SortButton from 'react-storefront/plp/SortButton';\nimport Fill from 'react-storefront/Fill';\nimport fetchFromAPI from 'react-storefront/props/fetchFromAPI';\nimport createLazyProps from 'react-storefront/props/createLazyProps';\nconst useStyles = makeStyles(theme => ({\n  sideBar: {\n    margin: theme.spacing(0, 4, 0, 0),\n    width: 275\n  },\n  sortButton: {\n    [theme.breakpoints.down('xs')]: {\n      flex: 1\n    }\n  },\n  total: {\n    marginTop: theme.spacing(1)\n  }\n}));\n\nconst Subcategory = lazyProps => {\n  const [store, updateStore] = useSearchResultsStore(lazyProps);\n  const classes = useStyles();\n  const theme = useTheme();\n  let {\n    pageData,\n    loading\n  } = store;\n\n  if (pageData.isLanding) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n        items: !loading && pageData.breadcrumbs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: !loading ? /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h4\",\n          gutterBottom: true,\n          align: \"center\",\n          className: classes.landingTitleSpacing,\n          children: pageData.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Skeleton, {\n          height: 32,\n          style: {\n            marginBottom: theme.spacing(1)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), !loading && /*#__PURE__*/_jsxDEV(LandingCmsSlots, {\n        cmsBlocks: pageData.cmsBlocks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true);\n  } // Here is an example of how you can customize the URL scheme for filtering and sorting - /s/1?color=red,blue=sort=pop\n  // Note that if you change this, you also need to change pages/api/[...categorySlug].js to correctly handle the query parameters\n  // you send it.\n\n\n  const queryForState = useCallback(state => {\n    const {\n      filters,\n      page,\n      sort\n    } = state;\n    const query = {};\n\n    for (let filter of filters) {\n      const [name, value] = filter.split(':');\n      console.log(name, value);\n\n      if (query[name]) {\n        query[name] = `${query[name]},${value}`;\n      } else {\n        query[name] = value;\n      }\n    }\n\n    if (query.more) {\n      delete query.more;\n    }\n\n    if (page > 0) {\n      query.page = page;\n    } else {\n      delete query.page;\n    }\n\n    if (sort) {\n      query.sort = sort;\n    } else {\n      delete query.sort;\n    }\n\n    console.log('query', query);\n    return query;\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n      items: !loading && pageData.breadcrumbs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchResultsProvider, {\n      store: store,\n      updateStore: updateStore,\n      queryForState: queryForState,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"lg\",\n        style: {\n          paddingTop: theme.spacing(2)\n        },\n        children: [/*#__PURE__*/_jsxDEV(Head, {\n          children: loading ? null : /*#__PURE__*/_jsxDEV(\"title\", {\n            children: pageData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 35\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BackToTop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Hbox, {\n          align: \"flex-start\",\n          children: [/*#__PURE__*/_jsxDEV(Hidden, {\n            implementation: \"css\",\n            xsDown: true,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.sideBar,\n              children: /*#__PURE__*/_jsxDEV(Hidden, {\n                xsDown: true,\n                children: /*#__PURE__*/_jsxDEV(Filter, {\n                  classes: {\n                    root: classes.sideBar\n                  },\n                  expandAll: true,\n                  submitOnChange: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            style: {\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(LoadMask, {\n              show: store.reloading,\n              transparent: true,\n              align: \"top\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: !loading ? /*#__PURE__*/_jsxDEV(Typography, {\n                component: \"h1\",\n                variant: \"h6\",\n                gutterBottom: true,\n                children: pageData.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Skeleton, {\n                height: 32,\n                style: {\n                  marginBottom: theme.spacing(1)\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              style: {\n                paddingRight: theme.spacing(1)\n              },\n              children: /*#__PURE__*/_jsxDEV(Hidden, {\n                implementation: \"css\",\n                smUp: true,\n                children: /*#__PURE__*/_jsxDEV(FilterButton, {\n                  style: {\n                    width: '100%'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              style: {\n                display: 'flex',\n                justifyContent: 'flex-end'\n              },\n              children: /*#__PURE__*/_jsxDEV(SortButton, {\n                className: classes.sortButton\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              style: {\n                display: 'flex',\n                justifyContent: 'flex-end'\n              },\n              children: loading ? /*#__PURE__*/_jsxDEV(Skeleton, {\n                width: 90,\n                height: 14,\n                style: {\n                  marginBottom: 4\n                },\n                className: classes.total\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                className: classes.total,\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [pageData.total, \" total \", pageData.total === 1 ? 'item' : 'items']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: !loading ? /*#__PURE__*/_jsxDEV(ResponsiveTiles, {\n                autoScrollToNewTiles: true,\n                children: pageData.products.map((product, i) => /*#__PURE__*/_jsxDEV(ProductItem, {\n                  product: product,\n                  index: i\n                }, product.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(ResponsiveTiles, {\n                children: (() => {\n                  const tiles = [];\n\n                  for (let i = 0; i < 10; i++) {\n                    tiles.push( /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginTop: theme.spacing(2),\n                        marginBottom: theme.spacing(2)\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Fill, {\n                        height: \"100%\",\n                        style: {\n                          marginBottom: theme.spacing(1)\n                        },\n                        children: /*#__PURE__*/_jsxDEV(Skeleton, {\n                          variant: \"rect\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 180,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 179,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                        height: 26\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 182,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(ProductOptionSelector, {\n                        skeleton: 4,\n                        variant: \"swatch\",\n                        size: \"small\",\n                        optionProps: {\n                          size: 'small',\n                          showLabel: false\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                        height: 18\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 192,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                        height: 24,\n                        style: {\n                          marginTop: '5px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 193,\n                        columnNumber: 29\n                      }, this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 27\n                    }, this));\n                  }\n\n                  return tiles;\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: !loading && /*#__PURE__*/_jsxDEV(ShowMore, {\n                variant: \"button\",\n                style: {\n                  paddingBottom: 200\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\nSubcategory.getInitialProps = createLazyProps(opts => {\n  const {\n    res\n  } = opts;\n  if (res) res.setHeader('Cache-Control', 'max-age=99999');\n  return fetchFromAPI(opts);\n});\nexport default Subcategory;","map":{"version":3,"sources":["C:/Users/Hussain/Desktop/f/app/pages/s/[...categorySlug].js"],"names":["React","useCallback","makeStyles","useTheme","ResponsiveTiles","ProductItem","ShowMore","Head","BackToTop","Hbox","Breadcrumbs","LoadMask","useSearchResultsStore","Filter","SearchResultsProvider","ProductOptionSelector","FilterButton","SortButton","Fill","fetchFromAPI","createLazyProps","useStyles","theme","sideBar","margin","spacing","width","sortButton","breakpoints","down","flex","total","marginTop","Subcategory","lazyProps","store","updateStore","classes","pageData","loading","isLanding","breadcrumbs","landingTitleSpacing","name","marginBottom","cmsBlocks","queryForState","state","filters","page","sort","query","filter","value","split","console","log","more","paddingTop","title","root","position","reloading","paddingRight","display","justifyContent","products","map","product","i","id","tiles","push","size","showLabel","paddingBottom","getInitialProps","opts","res","setHeader"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react'\nimport { Typography, Grid, Container, Hidden } from '@material-ui/core'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport ResponsiveTiles from 'react-storefront/ResponsiveTiles'\nimport ProductItem from '../../components/product/ProductItem'\nimport ShowMore from 'react-storefront/plp/ShowMore'\nimport Head from 'next/head'\nimport BackToTop from 'react-storefront/BackToTop'\nimport { Skeleton } from '@material-ui/lab'\nimport { Hbox } from 'react-storefront/Box'\nimport Breadcrumbs from 'react-storefront/Breadcrumbs'\nimport LoadMask from 'react-storefront/LoadMask'\nimport useSearchResultsStore from 'react-storefront/plp/useSearchResultsStore'\nimport Filter from 'react-storefront/plp/Filter'\nimport SearchResultsProvider from 'react-storefront/plp/SearchResultsProvider'\nimport ProductOptionSelector from 'react-storefront/option/ProductOptionSelector'\nimport FilterButton from 'react-storefront/plp/FilterButton'\nimport SortButton from 'react-storefront/plp/SortButton'\nimport Fill from 'react-storefront/Fill'\nimport fetchFromAPI from 'react-storefront/props/fetchFromAPI'\nimport createLazyProps from 'react-storefront/props/createLazyProps'\n\nconst useStyles = makeStyles(theme => ({\n  sideBar: {\n    margin: theme.spacing(0, 4, 0, 0),\n    width: 275,\n  },\n  sortButton: {\n    [theme.breakpoints.down('xs')]: {\n      flex: 1,\n    },\n  },\n  total: {\n    marginTop: theme.spacing(1),\n  },\n}))\n\nconst Subcategory = lazyProps => {\n  const [store, updateStore] = useSearchResultsStore(lazyProps)\n  const classes = useStyles()\n  const theme = useTheme()\n  let { pageData, loading } = store\n\n  if (pageData.isLanding) {\n    return (\n      <>\n        <Breadcrumbs items={!loading && pageData.breadcrumbs} />\n        <Grid item xs={12}>\n          {!loading ? (\n            <Typography\n              component=\"h1\"\n              variant=\"h4\"\n              gutterBottom\n              align=\"center\"\n              className={classes.landingTitleSpacing}\n            >\n              {pageData.name}\n            </Typography>\n          ) : (\n            <Skeleton height={32} style={{ marginBottom: theme.spacing(1) }} />\n          )}\n        </Grid>\n        {!loading && <LandingCmsSlots cmsBlocks={pageData.cmsBlocks} />}\n      </>\n    )\n  }\n\n  // Here is an example of how you can customize the URL scheme for filtering and sorting - /s/1?color=red,blue=sort=pop\n  // Note that if you change this, you also need to change pages/api/[...categorySlug].js to correctly handle the query parameters\n  // you send it.\n  const queryForState = useCallback(state => {\n    const { filters, page, sort } = state\n    const query = {}\n\n    for (let filter of filters) {\n      const [name, value] = filter.split(':')\n\n      console.log(name, value)\n\n      if (query[name]) {\n        query[name] = `${query[name]},${value}`\n      } else {\n        query[name] = value\n      }\n    }\n\n    if (query.more) {\n      delete query.more\n    }\n\n    if (page > 0) {\n      query.page = page\n    } else {\n      delete query.page\n    }\n\n    if (sort) {\n      query.sort = sort\n    } else {\n      delete query.sort\n    }\n\n    console.log('query', query)\n\n    return query\n  }, [])\n\n  return (\n    <>\n      <Breadcrumbs items={!loading && pageData.breadcrumbs} />\n      <SearchResultsProvider store={store} updateStore={updateStore} queryForState={queryForState}>\n        <Container maxWidth=\"lg\" style={{ paddingTop: theme.spacing(2) }}>\n          <Head>{loading ? null : <title>{pageData.title}</title>}</Head>\n          <BackToTop />\n          <Hbox align=\"flex-start\">\n            <Hidden implementation=\"css\" xsDown>\n              <div className={classes.sideBar}>\n                <Hidden xsDown>\n                  {/* Display the filters for desktop screen sizes */}\n                  <Filter classes={{ root: classes.sideBar }} expandAll submitOnChange />\n                </Hidden>\n              </div>\n            </Hidden>\n            <Grid container style={{ position: 'relative' }}>\n              <LoadMask show={store.reloading} transparent align=\"top\" />\n              <Grid item xs={12}>\n                {!loading ? (\n                  <Typography component=\"h1\" variant=\"h6\" gutterBottom>\n                    {pageData.name}\n                  </Typography>\n                ) : (\n                  <Skeleton height={32} style={{ marginBottom: theme.spacing(1) }} />\n                )}\n              </Grid>\n              <Grid item xs={6} style={{ paddingRight: theme.spacing(1) }}>\n                <Hidden implementation=\"css\" smUp>\n                  {/* Display a button that opens the filter drawer on mobile screen sizes */}\n                  <FilterButton style={{ width: '100%' }} />\n                </Hidden>\n              </Grid>\n              <Grid item xs={6} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                {/* The sort button is automatically responsive.  It will show as a dropdown on desktop, and open a drawer on mobile */}\n                <SortButton className={classes.sortButton} />\n              </Grid>\n              <Grid item xs={6}></Grid>\n              <Grid item xs={12} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                {loading ? (\n                  <Skeleton\n                    width={90}\n                    height={14}\n                    style={{ marginBottom: 4 }}\n                    className={classes.total}\n                  />\n                ) : (\n                  <Typography variant=\"caption\" className={classes.total}>\n                    <span>\n                      {pageData.total} total {pageData.total === 1 ? 'item' : 'items'}\n                    </span>\n                  </Typography>\n                )}\n              </Grid>\n              <Grid item xs={12}>\n                {!loading ? (\n                  <ResponsiveTiles autoScrollToNewTiles>\n                    {pageData.products.map((product, i) => (\n                      <ProductItem key={product.id} product={product} index={i} />\n                    ))}\n                  </ResponsiveTiles>\n                ) : (\n                  <ResponsiveTiles>\n                    {(() => {\n                      const tiles = []\n                      for (let i = 0; i < 10; i++) {\n                        tiles.push(\n                          <div\n                            key={i}\n                            style={{ marginTop: theme.spacing(2), marginBottom: theme.spacing(2) }}\n                          >\n                            <Fill height=\"100%\" style={{ marginBottom: theme.spacing(1) }}>\n                              <Skeleton variant=\"rect\" />\n                            </Fill>\n                            <Skeleton height={26} />\n                            <ProductOptionSelector\n                              skeleton={4}\n                              variant=\"swatch\"\n                              size=\"small\"\n                              optionProps={{\n                                size: 'small',\n                                showLabel: false,\n                              }}\n                            />\n                            <Skeleton height={18} />\n                            <Skeleton height={24} style={{ marginTop: '5px' }} />\n                          </div>\n                        )\n                      }\n                      return tiles\n                    })()}\n                  </ResponsiveTiles>\n                )}\n              </Grid>\n              <Grid item xs={12}>\n                {!loading && <ShowMore variant=\"button\" style={{ paddingBottom: 200 }} />}\n              </Grid>\n            </Grid>\n          </Hbox>\n        </Container>\n      </SearchResultsProvider>\n    </>\n  )\n}\n\nSubcategory.getInitialProps = createLazyProps(opts => {\n  const { res } = opts\n  if (res) res.setHeader('Cache-Control', 'max-age=99999')\n  return fetchFromAPI(opts)\n})\n\nexport default Subcategory\n"]},"metadata":{},"sourceType":"module"}